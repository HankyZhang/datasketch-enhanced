{
  "sweep_results": [
    {
      "parameters": {
        "n_clusters": 10,
        "k_children": 200,
        "child_search_ef": 300
      },
      "construction_time": 1.877030849456787,
      "phase_evaluations": [
        {
          "phase": "baseline_hnsw",
          "ef": 200,
          "recall_at_k": 1.0,
          "avg_query_time_ms": 13.953232765197754,
          "std_query_time_ms": 26.711595207497265,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "k": 10
        },
        {
          "method": "pure_kmeans_from_existing",
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 5.958843231201172,
          "std_query_time_ms": 6.196939487210528,
          "clustering_time": 0.0,
          "n_clusters": 10,
          "n_probe": 5,
          "k": 10,
          "reused_existing_clustering": true,
          "phase": "clusters_only"
        },
        {
          "method": "pure_kmeans_from_existing",
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 24.889588356018066,
          "std_query_time_ms": 44.451059703194574,
          "clustering_time": 0.0,
          "n_clusters": 10,
          "n_probe": 10,
          "k": 10,
          "reused_existing_clustering": true,
          "phase": "clusters_only"
        },
        {
          "method": "pure_kmeans_from_existing",
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 9.9839448928833,
          "std_query_time_ms": 13.922854825906013,
          "clustering_time": 0.0,
          "n_clusters": 10,
          "n_probe": 10,
          "k": 10,
          "reused_existing_clustering": true,
          "phase": "clusters_only"
        },
        {
          "phase": "hybrid_hnsw_level",
          "n_probe": 5,
          "recall_at_k": 1.0,
          "avg_query_time_ms": 3.6463260650634766,
          "std_query_time_ms": 8.633402651550565,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "hybrid_stats": {
            "num_parents": 3,
            "num_children": 997,
            "avg_children_per_parent": 332.3333333333333,
            "construction_time": 0.08428120613098145,
            "parent_extraction_time": 0.0,
            "mapping_build_time": 0.08377480506896973,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 3.601670265197754,
            "avg_candidate_size": 997.0,
            "mapping_method": "approx",
            "raw_child_coverage": 0.997,
            "adaptive_k_children": false,
            "k_children": 200,
            "mean_jaccard_overlap": 0.0005757052389176741,
            "median_jaccard_overlap": 0.0
          },
          "hybrid_build_time": 0.08478665351867676,
          "hybrid_k_children": 200,
          "k": 10
        },
        {
          "phase": "hybrid_hnsw_level",
          "n_probe": 10,
          "recall_at_k": 1.0,
          "avg_query_time_ms": 1.7496109008789062,
          "std_query_time_ms": 1.9416176436924786,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "hybrid_stats": {
            "num_parents": 3,
            "num_children": 997,
            "avg_children_per_parent": 332.3333333333333,
            "construction_time": 0.08428120613098145,
            "parent_extraction_time": 0.0,
            "mapping_build_time": 0.08377480506896973,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 2.6503384113311768,
            "avg_candidate_size": 997.0,
            "mapping_method": "approx",
            "raw_child_coverage": 0.997,
            "adaptive_k_children": false,
            "k_children": 200,
            "mean_jaccard_overlap": 0.0005757052389176741,
            "median_jaccard_overlap": 0.0
          },
          "hybrid_build_time": 0.08478665351867676,
          "hybrid_k_children": 200,
          "k": 10
        },
        {
          "phase": "hybrid_hnsw_level",
          "n_probe": 20,
          "recall_at_k": 1.0,
          "avg_query_time_ms": 5.857884883880615,
          "std_query_time_ms": 9.374109636462718,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "hybrid_stats": {
            "num_parents": 3,
            "num_children": 997,
            "avg_children_per_parent": 332.3333333333333,
            "construction_time": 0.08428120613098145,
            "parent_extraction_time": 0.0,
            "mapping_build_time": 0.08377480506896973,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 3.694764773050944,
            "avg_candidate_size": 997.0,
            "mapping_method": "approx",
            "raw_child_coverage": 0.997,
            "adaptive_k_children": false,
            "k_children": 200,
            "mean_jaccard_overlap": 0.0005757052389176741,
            "median_jaccard_overlap": 0.0
          },
          "hybrid_build_time": 0.08478665351867676,
          "hybrid_k_children": 200,
          "k": 10
        },
        {
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 1.4550089836120605,
          "std_query_time_ms": 2.4684216840849387,
          "total_evaluation_time": 0.029607534408569336,
          "k": 10,
          "n_probe": 5,
          "system_stats": {
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "adaptive_k_children": false,
            "kmeans_fit_time": 1.7501027584075928,
            "child_mapping_time": 0.12303471565246582,
            "total_construction_time": 1.8752386569976807,
            "num_children": 1000,
            "avg_children_per_centroid": 100.0,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 1.4550089836120605,
            "avg_candidate_size": 587.95,
            "avg_jaccard_overlap": 0.18841633274582628,
            "std_jaccard_overlap": 0.13941485694875103,
            "max_jaccard_overlap": 0.5377049180327869,
            "overlap_samples": 45,
            "kmeans_inertia": 1.6031474852549823e+22,
            "kmeans_iterations": 28,
            "cluster_size_stats": {
              "avg": 100.0,
              "std": 54.852529567924215,
              "min": 13,
              "max": 221
            }
          },
          "phase": "kmeans_hnsw_single_pivot"
        },
        {
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 4.124188423156738,
          "std_query_time_ms": 7.600559201109658,
          "total_evaluation_time": 0.08700132369995117,
          "k": 10,
          "n_probe": 10,
          "system_stats": {
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "adaptive_k_children": false,
            "kmeans_fit_time": 1.7501027584075928,
            "child_mapping_time": 0.12303471565246582,
            "total_construction_time": 1.8752386569976807,
            "num_children": 1000,
            "avg_children_per_centroid": 100.0,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 2.739185094833374,
            "avg_candidate_size": 793.975,
            "avg_jaccard_overlap": 0.18841633274582628,
            "std_jaccard_overlap": 0.13941485694875103,
            "max_jaccard_overlap": 0.5377049180327869,
            "overlap_samples": 45,
            "kmeans_inertia": 1.6031474852549823e+22,
            "kmeans_iterations": 28,
            "cluster_size_stats": {
              "avg": 100.0,
              "std": 54.852529567924215,
              "min": 13,
              "max": 221
            }
          },
          "phase": "kmeans_hnsw_single_pivot"
        },
        {
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 6.438815593719482,
          "std_query_time_ms": 13.005429824496225,
          "total_evaluation_time": 0.12928152084350586,
          "k": 10,
          "n_probe": 20,
          "system_stats": {
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "adaptive_k_children": false,
            "kmeans_fit_time": 1.7501027584075928,
            "child_mapping_time": 0.12303471565246582,
            "total_construction_time": 1.8752386569976807,
            "num_children": 1000,
            "avg_children_per_centroid": 100.0,
            "coverage_fraction": 1.0,
            "avg_search_time_ms": 3.9723952611287436,
            "avg_candidate_size": 862.65,
            "avg_jaccard_overlap": 0.18841633274582628,
            "std_jaccard_overlap": 0.13941485694875103,
            "max_jaccard_overlap": 0.5377049180327869,
            "overlap_samples": 45,
            "kmeans_inertia": 1.6031474852549823e+22,
            "kmeans_iterations": 28,
            "cluster_size_stats": {
              "avg": 100.0,
              "std": 54.852529567924215,
              "min": 13,
              "max": 221
            }
          },
          "phase": "kmeans_hnsw_single_pivot"
        },
        {
          "recall_at_k": 0.99,
          "total_correct": 198,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            0.9,
            1.0,
            1.0,
            0.9,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 0.99,
          "std_individual_recall": 0.029999999999999992,
          "avg_query_time_ms": 7.238662242889404,
          "std_query_time_ms": 12.376350602110255,
          "total_evaluation_time": 0.24673724174499512,
          "k": 10,
          "n_probe": 5,
          "system_stats": {
            "method": "multi_pivot_kmeans_hnsw",
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "num_pivots": 3,
            "pivot_strategy": "line_perp_third",
            "pivot_overquery_factor": 1.2,
            "coverage_fraction": 1.0,
            "num_children": 1000,
            "avg_children_per_centroid": 229.9,
            "avg_search_time_ms": 7.238662242889404,
            "std_search_time_ms": 12.376350602110254
          },
          "phase": "kmeans_hnsw_multi_pivot",
          "multi_pivot_build_time": 0.5370206832885742
        },
        {
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 15.069162845611572,
          "std_query_time_ms": 24.18082004925707,
          "total_evaluation_time": 0.31029677391052246,
          "k": 10,
          "n_probe": 10,
          "system_stats": {
            "method": "multi_pivot_kmeans_hnsw",
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "num_pivots": 3,
            "pivot_strategy": "line_perp_third",
            "pivot_overquery_factor": 1.2,
            "coverage_fraction": 1.0,
            "num_children": 1000,
            "avg_children_per_centroid": 229.9,
            "avg_search_time_ms": 11.140269041061401,
            "std_search_time_ms": 19.60563568254565
          },
          "phase": "kmeans_hnsw_multi_pivot",
          "multi_pivot_build_time": 0.5370206832885742
        },
        {
          "recall_at_k": 1.0,
          "total_correct": 200,
          "total_expected": 200,
          "individual_recalls": [
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0,
            1.0
          ],
          "avg_individual_recall": 1.0,
          "std_individual_recall": 0.0,
          "avg_query_time_ms": 9.422147274017334,
          "std_query_time_ms": 11.877217313537157,
          "total_evaluation_time": 0.18894624710083008,
          "k": 10,
          "n_probe": 20,
          "system_stats": {
            "method": "multi_pivot_kmeans_hnsw",
            "n_clusters": 10,
            "k_children": 200,
            "child_search_ef": 300,
            "num_pivots": 3,
            "pivot_strategy": "line_perp_third",
            "pivot_overquery_factor": 1.2,
            "coverage_fraction": 1.0,
            "num_children": 1000,
            "avg_children_per_centroid": 229.9,
            "avg_search_time_ms": 10.567561785380045,
            "std_search_time_ms": 17.43366622133415
          },
          "phase": "kmeans_hnsw_multi_pivot",
          "multi_pivot_build_time": 0.5370206832885742
        }
      ],
      "multi_pivot_enabled": true
    }
  ],
  "demo_parameters": {
    "n_clusters": 10,
    "k_children": 200,
    "child_search_ef": 300
  },
  "multi_pivot_config": {
    "enabled": true,
    "num_pivots": 3,
    "pivot_selection_strategy": "line_perp_third",
    "pivot_overquery_factor": 1.2
  },
  "adaptive_config": {
    "adaptive_k_children": false,
    "k_children_scale": 1.5,
    "k_children_min": 100,
    "k_children_max": null,
    "diversify_max_assignments": null,
    "repair_min_assignments": null
  },
  "evaluation_info": {
    "dataset_size": 1000,
    "query_size": 20,
    "dimension": 128,
    "multi_pivot_enabled": true,
    "timestamp": "2025-09-29 07:40:37"
  }
}